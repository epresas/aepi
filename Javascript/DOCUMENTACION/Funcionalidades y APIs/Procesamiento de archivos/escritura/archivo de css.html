<html>
    <head>
    <meta charset="utf-8">
        <title>File API</title>
    </head>
    <body>

        <button id="crear">Crear archivo</button> <br>

        <p id="detalles"></p>

        <a id="enlace" download>Descargar archivo</a> 



        <script>

        var archivo;

        document.getElementById('crear').onclick = function(){

            let contenido = "body { background: green; }";

            let fichero = new Blob([contenido], {type: 'text/css'});            

            document.getElementById('detalles').textContent = `Archivo de tipo "${fichero.type}", con un peso de ${fichero.size}b`;

            if (archivo) { 

                window.URL.revokeObjectURL(archivo);
            }

            let ruta = window.URL.createObjectURL(fichero);

            let enlace = document.getElementById('enlace');            
            enlace.href =  ruta;
        }

        </script>
    </body>
</html> 